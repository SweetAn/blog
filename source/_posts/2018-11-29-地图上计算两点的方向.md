---
title: 地图上计算两点的方向
date: 2018-11-29 21:07:03
tags: 
- 地图
categories: 
- Java
---


![](http://image.sweetm.top//18-5-22/27288850.jpg?imageView/2/w/600/q/80)

```
public double GetAngle(MapPoint pntFirst, MapPoint pntNext)  
       {  
           double dRotateAngle = Math.Atan2(Math.Abs(pntFirst.X - pntNext.X), Math.Abs(pntFirst.Y - pntNext.Y));  
           if (pntNext.X >= pntFirst.X)  
           {  
               if (pntNext.Y >= pntFirst.Y)  
               {  
               }  
               else  
               {  
                   dRotateAngle = Math.PI - dRotateAngle;  
               }  
           }  
           else{  
               if (pntNext.Y >= pntFirst.Y)  
               {  
                   dRotateAngle = 2 * Math.PI - dRotateAngle;  
               }  
               else{  
                   dRotateAngle = Math.PI + dRotateAngle;  
               }  
           }  
           dRotateAngle = dRotateAngle * 180 / Math.PI;  
           return dRotateAngle;  
       }  
```






