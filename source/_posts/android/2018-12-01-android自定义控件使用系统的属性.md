---
title: android自定义控件使用系统的属性
tags:
  - 自定义控件
categories:
  - Android
  - 控件
abbrlink: 19804
date: 2018-12-01 15:36:17
---

## android自定义控件使用系统的属性
自定义一个EditText控件

```
   <declare-styleable name="CursorCompatEditText">
        <attr name="textColor" format="color|reference"/>
        <attr name="textSize" format="dimension"/>
    </declare-styleable>

    <com.foton.android.widget.CursorCompatEditText
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:textColor="@color/colorPrimary"
            app:textSize="@dimen/font_14"/>
```
如果想直接使用系统的inputType属性，自己一个一个定义是不应该的，可以使用下面的方法调用系统的属性

```
    <declare-styleable name="CursorCompatEditText">
        <attr name="textColor" format="color|reference"/>
        <attr name="textSize" format="dimension"/>
        <attr name="android:inputType"/>
    </declare-styleable>
```

```   
<com.foton.android.widget.CursorCompatEditText
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:inputType="number"
            app:textColor="@color/colorPrimary"
            app:textSize="@dimen/font_14" />
```
在代码中获取属性设置到 EditText中

```
TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.CursorCompatEditText);
int inputType = a.getInt(R.styleable.CursorCompatEditText_android_inputType, EditorInfo.TYPE_NULL);
a.recycle();
```



