---
layout: android
title: è®¾å¤‡å”¯ä¸€ç¼–ç 
date: 2018-02-26  21:10:11
tags: 
- å”¯ä¸€ç¼–ç 
categories: 
- Android
---


# Android è®¾å¤‡å”¯ä¸€ç¼–ç 

ç›¸ä¿¡å¤§å®¶ä¹Ÿä¼šé‡åˆ°ä¸€äº›å”¯ä¸€æ ‡è¯†androidè®¾å¤‡çš„å”¯ä¸€æ€§ï¼Œä½†æ˜¯androidçš„æƒé™è¶Šæ¥è¶Šé«˜ï¼Œå¥½å¤šåŸæ¥çš„æ–¹æ³•ä¸èƒ½ä½¿ç”¨äº†ï¼Œæ•´ç†ä¸€äº›æ”¾å‡ºæ¥å¤§å®¶ä¸€èµ·ä½¿ç”¨ğŸ˜
### 1.IMEI ç¼–ç è·å–(å¹³æ¿æ²¡æœ‰)
``` java
            TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
            if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {
                //å¹³æ¿æ²¡æœ‰  15ä¸ªæ•°å­—
                String imei = tm.getDeviceId();
                if (!TextUtils.isEmpty(imei)) {
                    deviceId.append(imei);
                }
            }
```

### 2.é€šè¿‡Buildè·å–ä¸€äº›ä¿¡æ¯

``` java
          String manufacturer = Build.MANUFACTURER;
            deviceId.append(manufacturer);
            //WIFI  MAC åœ°å€
            String localMac = getLocalMac(context);
            deviceId.append(localMac);

            String cpuAbi = Build.CPU_ABI;
            deviceId.append(cpuAbi);
            String radioVersion = Build.getRadioVersion();
            deviceId.append(radioVersion);
            String board = Build.BOARD;
            deviceId.append(board);
            String brand = Build.BRAND;
            deviceId.append(brand);
            String device = Build.DEVICE;
            deviceId.append(device);
            String display = Build.DISPLAY;
            deviceId.append(display);
            String hardware = Build.HARDWARE;
            deviceId.append(hardware);
```
#### å‚æ•°å«ä¹‰

| å±æ€§å                          | å«ä¹‰                          |
|---------------------------------|-------------------------------|
| ro.build.version.sdk            | SDK ç‰ˆæœ¬                      |
| ro.build.version.release        | Android ç³»ç»Ÿç‰ˆæœ¬              |
| ro.build.version.security_patch | Android å®‰å…¨è¡¥ä¸ç¨‹åºçº§åˆ«      |
| ro.product.model                | å‹å·                          |
| ro.product.brand                | å“ç‰Œ                          |
| ro.product.name                 | è®¾å¤‡å                        |
| ro.product.board                | å¤„ç†å™¨å‹å·                    |
| ro.product.cpu.abilist          | CPU æ”¯æŒçš„ abi åˆ—è¡¨[*èŠ‚æ³¨ä¸€*] |
| persist.sys.isUsbOtgEnabled     | æ˜¯å¦æ”¯æŒ OTG                  |
| dalvik.vm.heapsize              | æ¯ä¸ªåº”ç”¨ç¨‹åºçš„å†…å­˜ä¸Šé™        |
| ro.sf.lcd_density               | å±å¹•å¯†åº¦                      |


### 3.è·å–ç½‘å¡çš„Macåœ°å€

``` java
   /**
     * è·å–è®¾å¤‡MAC åœ°å€ ç”±äº 6.0 ä»¥å WifiManager å¾—åˆ°çš„ MacAddresså¾—åˆ°éƒ½æ˜¯ ç›¸åŒçš„æ²¡æœ‰æ„ä¹‰çš„å†…å®¹
     * æ‰€ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•è·å–Macåœ°å€
     * éœ€è¦
     * <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
     * <uses-permission android:name="android.permission.INTERNET"></uses-permission>
     *
     * @param context
     * @return
     */
    private static String getLocalMac(Context context) {
        String macAddress = null;
        StringBuffer buf = new StringBuffer();
        NetworkInterface networkInterface = null;
        try {
            networkInterface = NetworkInterface.getByName("eth1");
            if (networkInterface == null) {
                networkInterface = NetworkInterface.getByName("wlan0");
            }
            if (networkInterface == null) {
                return "";
            }
            byte[] addr = networkInterface.getHardwareAddress();


            for (byte b : addr) {
                buf.append(String.format("%02X:", b));
            }
            if (buf.length() > 0) {
                buf.deleteCharAt(buf.length() - 1);
            }
            macAddress = buf.toString();
        } catch (SocketException e) {
            e.printStackTrace();
            return "";
        }
        return macAddress;
    }
```

### 4.è·å–è“ç‰™Macåœ°å€

``` java
    private String getBluetoothMac(final Context context) {

        String result = null;
        if (context.checkCallingOrSelfPermission(Manifest.permission.BLUETOOTH)
                == PackageManager.PERMISSION_GRANTED) {
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
                // Hardware ID are restricted in Android 6+
                // https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id
                // Getting bluetooth mac via reflection for devices with Android 6+
                result = android.provider.Settings.Secure.getString(context.getContentResolver(),
                        "bluetooth_address");
            } else {
                BluetoothAdapter bta = BluetoothAdapter.getDefaultAdapter();
                result = bta != null ? bta.getAddress() : "";
            }
        }
        return result;
    }
```